!function(t){"object"==typeof exports?module.exports=t(colorConfig):"function"==typeof define&&define.amd?define(["colorConfig"],t):t(colorConfig)}(function(t){var a=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsva?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,i=function(t,a){if("function"!=typeof a)throw new TypeError;for(var i=t?t.length:0,e=0;e<i;e++)t[e]=a(t[e]);return t},e=function(t,a){return Math.max(a[0],Math.min(t,a[1]))},r=function(t){var a,i,e,r=t[0]/360,n=t[1],h=t[2];if(0===n)a=255*h,i=255*h,e=255*h;else{var s=6*r;6===s&&(s=0);var o=Math.floor(s),p=h*(1-n),f=h*(1-n*(s-o)),u=h*(1-n*(1-(s-o))),d=0,c=0,l=0;0===o?(d=h,c=u,l=p):1===o?(d=f,c=h,l=p):2===o?(d=p,c=h,l=u):3===o?(d=p,c=f,l=h):4===o?(d=u,c=p,l=h):(d=h,c=p,l=f),a=255*d,i=255*c,e=255*l}return[a,i,e]},n=function(t,a,i){return i<0&&(i+=1),i>1&&(i-=1),6*i<1?t+6*(a-t)*i:2*i<1?a:3*i<2?t+(a-t)*(2/3-i)*6:t},h=function(t){var a,i,e,r=t[0]/360,h=t[1],s=t[2];if(0===h)a=255*s,i=255*s,e=255*s;else{var o;o=s<.5?s*(1+h):s+h-h*s;var p=2*s-o;a=255*n(p,o,r+1/3),i=255*n(p,o,r),e=255*n(p,o,r-1/3)}return[a,i,e]},s=function(t){var a,i,e=t[0]/255,r=t[1]/255,n=t[2]/255,h=Math.min(e,r,n),s=Math.max(e,r,n),o=s-h,p=s;if(0===o)a=0,i=0;else{i=o/s;var f=((s-e)/6+o/2)/o,u=((s-r)/6+o/2)/o,d=((s-n)/6+o/2)/o;e===s?a=d-u:r===s?a=1/3+f-d:n===s&&(a=2/3+u-f),a<0&&(a+=1),a>1&&(a-=1)}return a*=360,i=i,p=p,[a,i,p]},o=function(t){var a,i,e=t[0]/255,r=t[1]/255,n=t[2]/255,h=Math.min(e,r,n),s=Math.max(e,r,n),o=s-h,p=(s+h)/2;if(0===o)a=0,i=0;else{i=p<.5?o/(s+h):o/(2-s-h);var f=((s-e)/6+o/2)/o,u=((s-r)/6+o/2)/o,d=((s-n)/6+o/2)/o;e===s?a=d-u:r===s?a=1/3+f-d:n===s&&(a=2/3+u-f),a<0&&(a+=1),a>1&&(a-=1)}return a*=360,i=i,p=p,[a,i,p]},p=p||{};return p=function(t){return this instanceof p?void(t&&this.init(t)):new p(t)},p.prototype.constructor=p,p.prototype.__trim=function(t){return t=String(t),t=t.replace(/(^\s*)|(\s*$)/g,""),/^[^#]*?$/i.test(t)&&(t=t.replace(/\s/g,"")),t},p.prototype.__normalize=function(a){var i;try{i=t.find(a)}catch(t){console.error("not found color.config.js!")}if(void 0===i?(a=this.__trim(a),a=a.replace(/hsb/i,"hsv")):a=i,/^#[0-9a-f]{3}$/i.test(a)){var e=a.replace("#","").split("");a="#"+e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}return a},p.prototype.init=function(t){var r,n,h;if(h=this.__normalize(t),h=h.match(a),null===h)throw new Error("color format error");if(this.data=[],this.valpha=1,h[2])this.type="rgb",r=h[2].replace("#","").split(""),n=[r[0]+r[1],r[2]+r[3],r[4]+r[5]],this.data=i(n,function(t){return e(parseInt(t,16),[0,255])});else if(h[4]){this.type="rgb";var s=h[4].split(","),o=s[3];n=s.slice(0,3),this.data=i(n,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),e(t,[0,255])}),"undefined"!=typeof o&&(this.type+="a",this.valpha=e(parseFloat(o),[0,1]))}else if(h[5]||h[6]){h[5]?this.type="hsv":this.type="hsl";var p=(h[5]||h[6]).split(","),f=e(parseInt(p[0],10),[0,360]),u=p[1],d=p[2],o=p[3];this.data=i([u,d],function(t){return t=t.indexOf("%")>0?.01*parseInt(t,0):t,e(parseFloat(t),[0,1])}),this.data.unshift(f),"undefined"!=typeof o&&(this.type+="a",this.valpha=e(parseFloat(o),[0,1]))}return this},p.prototype.update=p.prototype.init,p.prototype.alpha=function(t){return t?(this.valpha=e(Number(t).toFixed(4),[0,1]),this):this.valpha},p.prototype.change=function(t,a){var i,e="hex"==(t||"hex")?"rgb":t.replace("a","");return this.type.indexOf(e)>-1?i=[this.data[0],this.data[1],this.data[2]]:(e.indexOf("rgb")>-1&&((this.type.indexOf("hsv")>-1||this.type.indexOf("hsb")>-1)&&(i=r(this.data)),this.type.indexOf("hsl")>-1&&(i=h(this.data))),(e.indexOf("hsv")>-1||e.indexOf("hsb")>-1)&&(this.type.indexOf("rgb")>-1&&(i=s(this.data)),this.type.indexOf("hsl")>-1&&(i=s(h(this.data)))),e.indexOf("hsl")>-1&&(this.type.indexOf("rgb")>-1&&(i=o(this.data)),this.type.indexOf("hsv")>-1&&(i=o(h(this.data))))),a&&(this.data=i,this.type=e),i},p.prototype.toString=function(t){var t=t||"hex",a=this.change(t);if(a&&3===a.length){if(t.indexOf("hs")>-1){a[0]=parseInt(e(Number(a[0]).toFixed(4),[0,255]),10);var r=i(a.slice(1,3),function(t){return parseInt(e(Number(100*t).toFixed(4),[0,100]),10)+"%"});a[1]=r[0],a[2]=r[1]}else if(t.indexOf("rgb")>-1)a=i(a,function(t){return t>0?Math.round(t):0});else if(t.indexOf("hex")>-1)return a=i(a,function(t){return t>0?Math.round(t):0}),a=i(a.slice(0,3),function(t){return t=Number(t).toString(16),1===t.length?"0"+t:t}),"#"+a.join("");return t.indexOf("a")>-1?(this.valpha?this.valpha=e(this.valpha,[0,1]):this.valpha=1,t+"("+a.slice(0,3).join(",")+","+this.valpha+")"):t+"("+a.slice(0,3).join(",")+")"}},p.prototype.random=function(){return this.type="rgba",this.valpha=this.valpha||1,this.data=[Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random())],this},p.prototype.fade=function(t){return this.alpha(this.valpha-this.valpha*t)},p.prototype.opaquer=function(t){return this.alpha(this.valpha+this.valpha*t)},p.prototype.rotate=function(t){var a=this.type;return this.change("hsv",!0),this.data[0]=e(t,[0,360]),this.change(a,!0),this},p.prototype.luminosity=function(t){var a=this.type;return this.change("hsv",!0),this.data[1]+=this.data[1]*t,this.change(a,!0),this},p.prototype.lighten=function(t){return this.luminosity(t)},p.prototype.darken=function(t){return this.luminosity(-t)},p.prototype.saturation=function(t){var a=this.type;return this.change("hsv",!0),this.data[2]+=this.data[2]*t,this.change(a,!0),this},p.prototype.saturate=function(t){return this.saturation(t)},p.prototype.desaturate=function(t){return this.saturation(-t)},p.prototype.grayscale=function(){var t=this.type;return this.change("rgb",!0),this.data[0]*=.3,this.data[1]*=.59,this.data[2]*=.11,this.change(t,!0),this},p.prototype.reverse=function(){var t=this.type;return this.change("rgb",!0),this.data=i(this.data,function(t){return 255-t}),this.change(t,!0),this},p.prototype.lift=function(t){var a=this.type,i=t>0?1:-1;"undefined"==typeof t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),this.data=this.change("rgb",!0);for(var e=0;e<3;e++)1===i?this.data[e]=Math.floor(this.data[e]*(1-t)):this.data[e]=Math.floor((255-this.data[e])*t+this.data[e]);return this.data=this.change(a,!0),this},p.prototype.mix=function(t,a){var i=this.type;this.change("rgb",!0);var r=t.change("rgb");"undefined"==typeof a&&(a=.5),a=1-e(a,[0,1]);for(var n=2*a-1,h=this.valpha-t.valpha,s=((n*h===-1?n:(n+h)/(1+n*h))+1)/2,o=1-s,p=0;p<3;p++)this.data[p]=this.data[p]*s+r[p]*o;return this.change(i,!0),this.valpha=this.valpha*a+t.valpha*(1-a),this.valpha=e(this.valpha,[0,1]),this},p});